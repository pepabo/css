<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=Edge" http-equiv="X-UA-Compatible">
    <meta content="width=device-width" name="viewport">
    
    <title>100年後も崩れないCSS勉強会 · 第2回「コンポーネント」</title>
    <meta name="description" content="100年後も崩れないCSS勉強会、第2回です！というわけで、きょうはコンポーネントについてお話しさせてください。

突然ですが、こちらはなんのへんてつもない Amazon のページです（2015年9月29日現在）。このページをよく見てみると、同じような見た目のものがあると思いませんか？

例えば、ヘッダーのメニューのなかの、右に小さな矢印がついたリンクとか…

例えば、サイドバーのカテゴリーの見出">
<meta property="og:type" content="article">
<meta property="og:title" content="第2回「コンポーネント」">
<meta property="og:url" content="http://pepabo.github.io/css/component/index.html">
<meta property="og:site_name" content="100年後も崩れないCSS勉強会">
<meta property="og:description" content="100年後も崩れないCSS勉強会、第2回です！というわけで、きょうはコンポーネントについてお話しさせてください。

突然ですが、こちらはなんのへんてつもない Amazon のページです（2015年9月29日現在）。このページをよく見てみると、同じような見た目のものがあると思いませんか？

例えば、ヘッダーのメニューのなかの、右に小さな矢印がついたリンクとか…

例えば、サイドバーのカテゴリーの見出">
<meta property="og:image" content="http://pepabo.github.io/css/css/component/001.png">
<meta property="og:image" content="http://pepabo.github.io/css/css/component/002.png">
<meta property="og:image" content="http://pepabo.github.io/css/css/component/003.png">
<meta property="og:image" content="http://pepabo.github.io/css/css/component/004.png">
<meta property="og:image" content="http://pepabo.github.io/css/css/component/005.png">
<meta property="og:image" content="http://pepabo.github.io/css/css/component/006.png">
<meta property="og:image" content="http://pepabo.github.io/css/css/component/007.png">
<meta property="og:image" content="http://pepabo.github.io/css/css/component/008.png">
<meta property="og:image" content="http://pepabo.github.io/css/css/component/009.png">
<meta property="og:image" content="http://pepabo.github.io/css/css/component/010.png">
<meta property="og:image" content="http://pepabo.github.io/css/css/component/011.png">
<meta property="og:image" content="http://pepabo.github.io/css/css/component/012.png">
<meta property="og:image" content="http://pepabo.github.io/css/css/component/013.png">
<meta property="og:image" content="http://pepabo.github.io/css/css/component/014.png">
<meta property="og:image" content="http://pepabo.github.io/css/css/component/015.png">
<meta property="og:image" content="http://pepabo.github.io/css/css/component/016.png">
<meta property="og:image" content="http://pepabo.github.io/css/css/component/017.png">
<meta property="og:image" content="http://pepabo.github.io/css/css/component/018.png">
<meta property="og:image" content="http://pepabo.github.io/css/css/component/019.png">
<meta property="og:image" content="http://pepabo.github.io/css/css/component/020.png">
<meta property="og:image" content="http://pepabo.github.io/css/css/component/021.png">
<meta property="og:image" content="http://pepabo.github.io/css/css/component/022.png">
<meta property="og:image" content="http://pepabo.github.io/css/css/component/023.png">
<meta property="og:image" content="http://pepabo.github.io/css/css/component/024.png">
<meta property="og:image" content="http://pepabo.github.io/css/css/component/025.png">
<meta property="og:image" content="http://pepabo.github.io/css/css/component/026.png">
<meta property="og:image" content="http://pepabo.github.io/css/css/component/027.png">
<meta property="og:image" content="http://pepabo.github.io/css/css/component/028.png">
<meta property="og:image" content="http://pepabo.github.io/css/css/component/029.png">
<meta property="og:image" content="http://pepabo.github.io/css/css/component/030.png">
<meta property="og:image" content="http://pepabo.github.io/css/css/component/031.png">
<meta property="og:image" content="http://pepabo.github.io/css/css/component/032.png">
<meta property="og:image" content="http://pepabo.github.io/css/css/component/033.png">
<meta property="og:image" content="http://pepabo.github.io/css/css/component/034.png">
<meta property="og:image" content="http://pepabo.github.io/css/css/component/035.png">
<meta property="og:updated_time" content="2015-10-04T08:05:07.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="第2回「コンポーネント」">
<meta name="twitter:description" content="100年後も崩れないCSS勉強会、第2回です！というわけで、きょうはコンポーネントについてお話しさせてください。

突然ですが、こちらはなんのへんてつもない Amazon のページです（2015年9月29日現在）。このページをよく見てみると、同じような見た目のものがあると思いませんか？

例えば、ヘッダーのメニューのなかの、右に小さな矢印がついたリンクとか…

例えば、サイドバーのカテゴリーの見出">
    
      <link rel="alternative" href="/atom.xml" title="100年後も崩れないCSS勉強会" type="application/atom+xml">
    
    
    <link rel="stylesheet" href="/css/stylesheets/style.css" type="text/css">
    
      <!-- Google Analytics -->
      <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-20528252-13', 'auto');
      ga('send', 'pageview');
      </script>
      <!-- End Google Analytics -->
    
  </head>
  <body>
    <div id="fb-root"></div>
    <script>(function(d, s, id) {
      var js, fjs = d.getElementsByTagName(s)[0];
      if (d.getElementById(id)) return;
      js = d.createElement(s); js.id = id;
      js.src = "//connect.facebook.net/ja_JP/sdk.js#xfbml=1&version=v2.4";
      fjs.parentNode.insertBefore(js, fjs);
    }(document, 'script', 'facebook-jssdk'));</script>
    <script type="text/javascript" src="//media.line.me/js/line-button.js?v=20140411"></script>
    <header id="header" class="header">
      <h1 class="header__brand">
        <a href="/">100年後も崩れないCSS勉強会</a>
      </h1>
    </header>
    <div class="page">
      <article class="article" id="post-component" itemscope itemprop="blogPost">
  
    <header class="article__header">
      
  <h1 class="article__heading" itemprop="name">
    <a href="/css/component/">第2回「コンポーネント」</a>
  </h1>


      
  <a class="article__date" href="/css/component/">
    <time datetime="2015-09-29T04:00:00.000Z" itemprop="datePublished">2015年9月29日</time>
  </a>


    </header>
  
  
    <div class="article__body" itemprop="articleBody">
      <img src="/css/component/001.png" alt="001.png" title="">
<p>100年後も崩れないCSS勉強会、第2回です！というわけで、きょうはコンポーネントについてお話しさせてください。</p>
<img src="/css/component/002.png" alt="002.png" title="">
<p>突然ですが、こちらはなんのへんてつもない Amazon のページです（2015年9月29日現在）。このページをよく見てみると、同じような見た目のものがあると思いませんか？</p>
<img src="/css/component/003.png" alt="003.png" title="">
<p>例えば、ヘッダーのメニューのなかの、右に小さな矢印がついたリンクとか…</p>
<img src="/css/component/004.png" alt="004.png" title="">
<p>例えば、サイドバーのカテゴリーの見出しと各項目が一覧になっているリンクとか…</p>
<img src="/css/component/005.png" alt="005.png" title="">
<p>本の書影とカテゴリーの見出し・本のタイトルが一緒になったリンクもあります。</p>
<img src="/css/component/006.png" alt="006.png" title="">
<p>さらには、ページのなかでオレンジ色の太字の見出しなんかも、文字の大きさは違うけど同じ見た目ですね。</p>
<img src="/css/component/007.png" alt="007.png" title="">
<p>こんなふうに、ウェブページはたくさんの要素があるように見えて、案外おなじ見た目の要素を繰り返したり、組み合わせることで作られています。</p>
<img src="/css/component/008.png" alt="008.png" title="">
<p>このような共通した要素のことを、ここではコンポーネントと呼びたいと思います。</p>
<img src="/css/component/009.png" alt="009.png" title="">
<p>「共通している」ということを言い換えると、「ここだけではなく他の場所でも再利用できる」ということでもあります。</p>
<img src="/css/component/010.png" alt="010.png" title="">
<p>それでは、さきほどの Amazon のオレンジ色の見出しの部分をコーディングするぞ！となったら、どんなふうに書くでしょうか。</p>
<img src="/css/component/011.png" alt="011.png" title="">
<p>例えばこんなふうにそれぞれ class 属性に名前をつけて、スタイルを指定したとします。でも、この3つをよく見ると、文字の色や太さの指定はどれも共通していて、違うのは文字の大きさだけですね。</p>
<img src="/css/component/012.png" alt="012.png" title="">
<p>じゃあ、ということで共通しているスタイルは <code>.title</code> という class セレクタのスタイルとして指定しておいて、それぞれの文字の大きさだけ class セレクタを追加して指定するようにしたら、どうでしょうか。こう書くと、文字の色や太さを変えたくなったときも、1行変えるだけで一気に変更できるので楽なのではないでしょうか。</p>
<img src="/css/component/013.png" alt="013.png" title="">
<p>この楽をしたいという怠惰な考えをもっと進めると、<code>.page</code> だとか <code>.section</code> だとかっていうのは「場所の意味」を指しているわけですが、どうせこのスタイルでは文字の大きさしか指定していないので、large だとか medium といった「見た目の意味」で指定できるようにするのは、どうでしょうか。こう書くと、ページの下のほうで 16px の見出しをつけたい！って思ったとき、その要素がどんな意味を持つ場所にあったとしても、HTML で <code>.medium</code> と class を追加するだけでスタイルを指定できて便利じゃないですか？</p>
<img src="/css/component/014.png" alt="014.png" title="">
<p>しかし、この名前のつけかたには問題があります。というのも、CSS はスタイルを適用する範囲を指定できないからです。ここでは <code>.large</code> という名前をつけていますが、他の場所でも大きい要素を表現したい場合に <code>.large</code> という名前をつけることも当然あると思います。もちろんあとから書いた <code>.large</code> は <code>.title.large</code> に影響するので、ぜんぜん想定していない見た目になってしまいます。<code>.large</code> とかいう競合しそうな名前をつけないように気をつければいいって話なんですけど、現実的に意図しない見た目になっちゃたよオイというのは CSS を書いていて「あるある」なできごとですよね。</p>
<img src="/css/component/015.png" alt="015.png" title="">
<p>じゃあどうすればいいのか？ ひとつの解決策としては、CSS の仕様が足りないのであれば自分たちで工夫しようということで、<code>.title-large</code> といった名前にするといいんじゃないかという考え方があります。こう書いておけば、おもむろに誰かが <code>.large</code> って書いても影響を受けないので安心だし、いままで <code>.large</code> だけだと何についてのスタイルなのかわからなかったものが、<code>.title</code> の見た目を指定しているスタイルシートであるということと、<code>.title</code> の文字の大きさを指定しているスタイルシートであることが、名前から伝わってくるように思います。</p>
<img src="/css/component/016.png" alt="016.png" title="">
<p>CSS 設計業界（？）では、このような考え方を説明するときに BEM（ベム）（ロシア発祥）という概念を利用することがあります。BEM では、ここでいう <code>title</code> のことを「Block」と呼んでいて、</p>
<img src="/css/component/017.png" alt="017.png" title="">
<p><code>large</code> とか <code>medium</code> といったバリエーション違いを表している名前を「Modifier」と呼んでいます。</p>
<img src="/css/component/018.png" alt="018.png" title="">
<p>こちらはなんのへんてつもない検索フォームです。form 要素の <code>.search-form</code> のなかに、テキストフィールドの <code>.search-form-textfield</code> と、検索ボタンの <code>.search-form-button</code> という要素が入っています。</p>
<img src="/css/component/019.png" alt="019.png" title="">
<p>BEM（ベム）（ロシア発祥）では、ここでいう <code>search-form</code> を「Block」と呼んでいて、</p>
<img src="/css/component/020.png" alt="020.png" title="">
<p>こんなふうに <code>search-form</code> の中に入っている <code>textfield</code> や <code>button</code> といった要素を「Element」と呼んでいます。BEM（ベム）（ロシア発祥）は、「Block」「Element」「Modifier」の頭文字を略した名前なんですね。</p>
<img src="/css/component/021.png" alt="021.png" title="">
<p>でも、こんなふうに3種類の概念がひとつの名前に混ざっていると、いったいこの名前は Block なのか Element なのか Modifier なのか、どれを指しているのかわからないですよね…？</p>
<img src="/css/component/022.png" alt="022.png" title="">
<p>そこで、BEM の概念を理解しやすいように、MindBEMding（マインドベムディング）という命名規則が考え出されました。Element の前にはアンダーバー2つ、Modifier の前にはハイフン2つをつけることにしようじゃないか。これで Element と Modifier の区別がつく！やったー！</p>
<img src="/css/component/023.png" alt="023.png" title="">
<p>さきほどの検索フォームを MindBEMding の命名規則を用いて書いてみたら、このようになるでしょうか。結果的にまぁ名前がめっちゃ長くなっちゃうわけですが、でも、<code>textfiled</code> や <code>button</code> が <code>search-form</code> のためにある要素だって、わかりやすくなったのではないでしょうか。</p>
<img src="/css/component/024.png" alt="024.png" title="">
<p>巨大な検索フォームを作る必要があっても大丈夫。<code>large</code> という Modifier がついたときのスタイルを指定すればいいんです。意味と見た目を分離して、どこでも再利用できる部品として定義する。同じ記述はできるだけ共通化して、全体を把握しやすくする。仕事も速くなって、リニューアルもかんたんです。コンポーネント、最高！</p>
<img src="/css/component/025.png" alt="025.png" title="">
<p>こんなふうな命名規則や考え方、またディレクトリ構成やファイルの分け方などはいろいろと提唱されていますが、どれもコンポーネントを意識して、いちど書いたスタイルの再利用性を高める、という視点は同じです。MindBEMding のハイフン2つやアンダーバー2つといった命名規則だって別に強制されているわけではなく、壊れにくい CSS を書くためのヒントとして、どう書いたっていいし、なによりチームメンバーや半年後のすべてを忘れた自分に伝わればいいんじゃないかなと思います。</p>
<img src="/css/component/026.png" alt="026.png" title="">
<p>さて、こちらはなんのへんてつもないタブのメニューです。クリックするとページに移動して、選択したタブの色がオレンジ色に変わるよくあるやつ。このスタイルがページのなかで何度も登場するので、業を煮やしてきょうはこれをコンポーネントにしようと思います。いったいどうやって書いたらいいでしょうか？</p>
<img src="/css/component/027.png" alt="027.png" title="">
<p>1案としては、<code>.global-menu</code> を Block の名前として、そのなかにあるやつを <code>.global-menu</code> からはじまる名前にして <code>.global-menu-item</code> にする。そうすれば、<code>.global-menu</code> 関連の要素なんだなっていうのが伝わりますね。そして、選択中のタブには <code>.active</code> って class をつけることで区別する。</p>
<img src="/css/component/028.png" alt="028.png" title="">
<p>いや、当プロジェクトでは Modifier は先頭に <code>.is-</code> をつけております、とか。</p>
<img src="/css/component/029.png" alt="029.png" title="">
<p>いや、そもそも <code>.global-menu</code> っていうけど、グローバルメニュー以外でもこの見た目あるよねってことで、どこでも使えるように意味ではなく見た目をあらわす <code>.tab-menu</code> って名前にしちゃうとか。ハイフンの区切り文字と Element の区別がつかないから、MindBEMding を取り入れてみるとか。</p>
<img src="/css/component/030.png" alt="030.png" title="">
<p>いや、俺はアンダーバー派だよっていうか、アプリケーションの他のコードはアンダーバーならアンダーバーにしちゃってもいいし、Modifier はアンダーバー2個からはじめるルールにしちゃうぞっていうのも良いと思います。</p>
<img src="/css/component/031.png" alt="031.png" title="">
<p>いや、<code>.tab-menu</code> がコンポーネントなのかどうかっていうのはよくわからないから、もっとわかりやすくするために先頭に <code>.c-</code> をつけるよ、みたいな几帳面な人もいます。</p>
<img src="/css/component/032.png" alt="032.png" title="">
<p>というような名前のつけかた、すでに考案されている命名規則は、この「<a href="http://booklog.jp/item/1/4844336355" target="_blank" rel="external">CSS 設計の教科書</a>」というすばらしい緑色の本に詳しく書いてあるので、ぜひ読んでください！</p>
<img src="/css/component/033.png" alt="033.png" title="">
<p>新規開発ならともかく、いま担当してるリリース済みのサービスで運用しながらどうやって導入していけばいいの？っていうことについては、このペパボの GitHub Pages にある「<a href="http://pepabo.github.io/docs/frontend/standard/css-architecture/" target="_blank">CSS 設計の長い夢</a>」っていうページで @otthi さんが書かれているので、ぜひ読んでください！</p>
<img src="/css/component/034.png" alt="034.png" title="">
<p>まとめです。ページのなかでもし3回も同じ見た目の要素が登場することがあったら、ぜひこれはコンポーネントになるかもしれないって思って書いてみるのはどうでしょうか。きっと、あとで楽になったり便利になったり、壊れなかったりしてカッコいいと思います。ただし、逆になんでもコンポーネント化するとわけがわからなくなってしまうので、3回っていうのは結構よい基準なんじゃないかなっていうのは、やっぱりこの緑の本に書いてありましたので、僕も同意です！</p>
<img src="/css/component/035.png" alt="035.png" title="">
<p>とはいえ、コンポーネントって自分で思ってるだけでは他の人はなんのことかよくわからないですよね。だから、チームメンバーや半年後の自分が把握できるように、スタイルシートの説明書を作るのはどうでしょうか。そんなドキュメントの作り方を、次回はお話ししたいです。よろしくお願いします！</p>

    </div>
    <div class="share">
      <ul class="share__list">
        <li class="share__item share__item--twitter">
          <a href="https://twitter.com/share" class="twitter-share-button" data-count="vertical" data-url="http://pepabo.github.io/css/component/" data-text="100年後も崩れないCSS勉強会 · 第2回「コンポーネント」" data-lang="ja">Tweet</a>
        </li>
        <li class="share__item share__item--facebook">
          <div class="fb-like" data-href="http://pepabo.github.io/css/component/" data-layout="box_count" data-action="like" data-show-faces="false" data-share="false"></div>
        </li>
        <li class="share__item share__item--google-plus">
          <g:plusone size="tall" href="http://pepabo.github.io/css/component/"></g:plusone>
        </li>
        <li class="share__item share__item--hatena-bookmark">
          <a href="http://b.hatena.ne.jp/entry/http://pepabo.github.io/css/component/" class="hatena-bookmark-button" data-hatena-bookmark-layout="vertical-balloon" data-hatena-bookmark-lang="ja" title="このエントリーをはてなブックマークに追加"><img src="//b.st-hatena.com/images/entry-button/button-only@2x.png" alt="このエントリーをはてなブックマークに追加" width="20" height="20" style="border: none;" /></a>
        </li>
      </ul>
    </div>
    
  <div class="next-article-nav">
    <a href="/css/specificity/">
      <span class="next-article-nav__label">
        前回の資料
      </span>
      <span class="next-article-nav__heading">
        第1回「詳細度」
      </span>
    </a>
  </div>


  
</article>


    </div>
    <footer class="footer">
      <ul class="footer__account">
        <li class="footer__account-list footer__account-list--contact">
          <a href="https://github.com/pepabo/css/issues/new?labels=お問い合わせ&amp;title=第2回「コンポーネント」について&amp;body=内容は公開されます。ご了承ください。" target="_blank">
            Contact
          </a>
        </li>
      </ul>
      <a class="footer__pagetop" href="#header"></a>
    </footer>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
    <script src="/css/javascripts/script.js" type="text/javascript"></script>
    <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
    <script type="text/javascript" src="//apis.google.com/js/plusone.js" async="async"></script>
    <script type="text/javascript" src="//b.st-hatena.com/js/bookmark_button.js" charset="utf-8" async="async"></script>
  </body>
</html>
